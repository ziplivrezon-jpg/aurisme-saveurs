<script>
    function loginVIP() {
        let n = prompt("Entrez votre nom VIP:");
        if(n && n.trim() !== "") {
            localStorage.setItem('aurisme_user', n.toUpperCase());
            updateVIP();
        }
    }

    function logoutVIP() {
        localStorage.removeItem('aurisme_user');
        location.reload();
    }

    function updateVIP() {
        const user = localStorage.getItem('aurisme_user');
        const vipInfo = document.getElementById('vip-info');
        const loginBtn = document.getElementById('login-btn');

        if(user) {
            vipInfo.innerHTML = `ðŸ‘‘ Bienvenue, <b>${user}</b> <i class="fas fa-sign-out-alt" onclick="logoutVIP()" style="margin-left:10px; cursor:pointer; color:var(--gold);" title="DÃ©connexion"></i>`;
            loginBtn.style.display = 'none';
        } else {
            vipInfo.innerHTML = `ðŸŒŸ Espace Client VIP`;
            loginBtn.style.display = 'inline-block';
        }
    }

    function sendWhatsApp() {
        const tel = "50942017744";
        const type = document.getElementById('cake-type').value;
        const size = document.getElementById('cake-size').value;
        const desc = document.getElementById('cake-desc').value;
        const user = localStorage.getItem('aurisme_user') || "InvitÃ©";

        if(!size || !desc) {
            alert("Veuillez remplir les dÃ©tails de la commande.");
            return;
        }

        const msg = `*COMMANDE GÃ‚TEAU - AURISME*%0A%0A` +
                    `*Client:* ${user}%0A` +
                    `*Type:* ${type}%0A` +
                    `*Taille:* ${size}%0A` +
                    `*DÃ©tails:* ${desc}`;

        window.open(`https://wa.me/${tel}?text=${msg}`, '_blank');
    }

    window.onload = updateVIP;
</script>
